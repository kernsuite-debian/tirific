<html>
<head>
<meta name="keywords"           content="eso, FITS format, C library">
<link href="doxygen.css" rel="stylesheet" type="text/css">
<title>QFITS Reference Manual 6.2.0</title>
</head>

<body text="#000000" bgcolor="#ffffff">



<!-- Generated by Doxygen 1.4.1 -->
<h1>Pixel loader for FITS images.</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__qfits__image.html#ga0">qfitsloader_init</a> (qfitsloader *ql)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize a qfitsloader control object.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__qfits__image.html#ga1">qfits_loadpix</a> (qfitsloader *ql)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a pixel buffer for one complete image.  <a href="#ga1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__qfits__image.html#ga2">qfits_loadpix_window</a> (qfitsloader *ql, int llx, int lly, int urx, int ury)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a pixel buffer for one image window.  <a href="#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__qfits__image.html#ga3">qfits_pixdump</a> (qfitsdumper *qd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Dump a pixel buffer to an output FITS file in append mode.  <a href="#ga3"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga1" doxytag="qfits_image.c::qfits_loadpix"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int qfits_loadpix           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">qfitsloader *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ql</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load a pixel buffer for one complete image. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ql</em>&nbsp;</td><td>Allocated and initialized qfitsloader control object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>int 0 if Ok, -1 if error occurred. </dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__qfits__image.html#ga2">qfits_loadpix_window</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="qfits_image.c::qfits_loadpix_window"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int qfits_loadpix_window           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">qfitsloader *&nbsp;</td>
          <td class="mdname" nowrap> <em>ql</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>llx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>lly</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>urx</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>ury</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Load a pixel buffer for one image window. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ql</em>&nbsp;</td><td>Allocated and initialized qfitsloader control object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>llx</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lly</em>&nbsp;</td><td>Position of the window (start with (1,1)) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>urx</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ury</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>int 0 if Ok, -1 if error occurred.</dd></dl>
This function performs a load of a pixel buffer into memory. It expects an allocated and initialized qfitsloader object in input. See <a class="el" href="group__qfits__image.html#ga0">qfitsloader_init()</a> about initializing the object.<p>
This function will fill up the ibuf/fbuf/dbuf field, depending on the requested pixel type (resp. int, float or double).<p>
If llx lly urx and ury do not specify the whole image, ql-&gt;map must be 0, we do not want to mmap a file an load only a part of it.     </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="qfits_image.c::qfits_pixdump"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int qfits_pixdump           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">qfitsdumper *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>qd</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dump a pixel buffer to an output FITS file in append mode. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>qd</em>&nbsp;</td><td>qfitsdumper control object. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>int 0 if Ok, -1 otherwise.</dd></dl>
This function takes in input a qfitsdumper control object. This object must be allocated beforehand and contain valid references to the data to save, and how to save it.<p>
The minimum fields to fill are:<p>
<ul>
<li>filename: Name of the FITS file to dump to.</li><li>npix: Number of pixels in the buffer to be dumped.</li><li>ptype: Type of the passed buffer (PTYPE_FLOAT, PTYPE_INT, PTYPE_DOUBLE)</li><li>out_ptype: Requested FITS BITPIX for the output.</li></ul>
<p>
One of the following fields must point to the corresponding pixel buffer:<p>
<ul>
<li>ibuf for an int pixel buffer (ptype=PTYPE_INT)</li><li>fbuf for a float pixel buffer (ptype=PTYPE_FLOAT)</li><li>dbuf for a double pixel buffer (ptype=PTYPE_DOUBLE)</li></ul>
<p>
This is a fairly low-level function, in the sense that it does not check that the output file already contains a proper header or even that the file it is appending to is indeed a FITS file. It will convert the pixel buffer to the requested BITPIX type and append the data to the file, without padding with zeros. See <a class="el" href="group__qfits__rw.html#ga4">qfits_zeropad()</a> about padding.<p>
If the given output file name is "STDOUT" (all caps), the dump will be performed to stdout.     </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="qfits_image.c::qfitsloader_init"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int qfitsloader_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">qfitsloader *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>ql</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialize a qfitsloader control object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ql</em>&nbsp;</td><td>qfitsloader object to initialize. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>int 0 if Ok, -1 if error occurred.</dd></dl>
This function expects a qfitsloader object with a number of input fields correctly filled in. The minimum fields to set are:<p>
<ul>
<li>filename: Name of the file to examine.</li><li>xtnum: Extension number to examine (0 for main section).</li><li>pnum: Plane number in the requested extension.</li><li>map : loading mode - flag to know if the file has to be mapped</li></ul>
<p>
You can go ahead with these fields only if you only want to get file information for this plane in this extension. If you want to later load the plane, you must additionally fill the 'ptype' field to a correct value (PTYPE_INT, PTYPE_FLOAT, PTYPE_DOUBLE) before calling <a class="el" href="group__qfits__image.html#ga1">qfits_loadpix()</a> so that it knows which conversion to perform.<p>
This function is basically a probe sent on a FITS file to ask qfits if loading these data would be Ok or not. The actual loading is performed by <a class="el" href="group__qfits__image.html#ga1">qfits_loadpix()</a> afterwards.     </td>
  </tr>
</table>

</body>
</html>
